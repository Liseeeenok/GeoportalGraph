(function(){"use strict";var t={1395:function(t,e,a){var r=a(9242),n=a(3396);const o={class:"container mt-4 p-4 text-center border"};function i(t,e,a,r,i,s){const c=(0,n.up)("graph-geoportal");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(c)])}var s=a(7139);const c={class:"row row-cols-1 row-cols-lg-2 align-items-center justify-content-between"},l={class:"col-lg-4"},u={class:"row row-cols-1 justify-content-center align-items-center"},d=(0,n._)("option",{disabled:"",value:""},"Выберите один из вариантов",-1),h=["value"],p={class:"row col-10 justify-content-between pe-0 ps-0 mt-2"},f=(0,n._)("div",{class:"row col-7 justify-content-center"},[(0,n._)("span",{class:"col-10"},"Вертикальные данные:")],-1),w=(0,n._)("div",{class:"row col-5"},"Горизонтальные данные:",-1),v={class:"row col-7"},g=(0,n._)("option",{disabled:"",value:""},"Выберите один из вариантов",-1),b=(0,n._)("option",{value:"t"},"Температура",-1),m=(0,n._)("option",{value:"po"},"Давление",-1),_=[g,b,m],y=(0,n._)("div",{class:"row col-5"},[(0,n._)("select",null,[(0,n._)("option",{disabled:"",value:""},"Выберите один из вариантов"),(0,n._)("option",{value:"t"},"Дата")])],-1);function D(t,e,a,o,i,g){const b=(0,n.up)("Bar");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n.Wm)(b,{class:"col-lg-8","chart-options":this.graph.chartOptions,"chart-data":this.graph.chartData,height:i.heightGraph},null,8,["chart-options","chart-data","height"]),(0,n._)("div",l,[(0,n._)("div",u,[(0,n.wy)((0,n._)("select",{class:"col-10",onChange:e[0]||(e[0]=t=>g.redrawGraph()),"onUpdate:modelValue":e[1]||(e[1]=t=>i.selectedTer=t)},[d,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.arrTer,(t=>((0,n.wg)(),(0,n.iD)("option",{key:t.id,value:t},(0,s.zw)(t.name),9,h)))),128))],544),[[r.bM,i.selectedTer]]),(0,n._)("div",p,[f,w,(0,n._)("div",v,[(0,n.wy)((0,n._)("select",{onChange:e[2]||(e[2]=t=>g.redrawGraph()),"onUpdate:modelValue":e[3]||(e[3]=t=>i.selectedMean=t)},_,544),[[r.bM,i.selectedMean]])]),y])])])])}var O=a(6265),T=a.n(O),j=a(6294),G=a(741);G.kL.register(G.Dx,G.u,G.De,G.ZL,G.uw,G.f$);var M={components:{Bar:j.$Q},data(){return{selectedMean:"t",selectedTer:"",arrTer:[],iDisplayLength:3061,baseURL:"http://cris.icc.ru/dataset/list?f=1875&count_rows=true&iDisplayStart=0",heightGraph:300,graph:{chartData:{labels:[],datasets:[{label:"t⁰ Температура воздуха в C⁰",data:[],backgroundColor:"rgb(75, 192, 192)"}]},chartOptions:{responsive:!0}}}},methods:{test(t){console.log("1 ",this.selectedMean)},redrawGraph(){let t="";const e=this.selectedTer.data,a=[],r=[];e.sort(((t,e)=>t.w_date<e.w_date?-1:t.w_date>e.w_date?1:void 0)),e.map((e=>{if(null!==e.w_date){if("t"===this.selectedMean&&null!==e.t)return t="t⁰ Температура воздуха в C⁰",a.push(e.w_date),void r.push(e.t);if("po"===this.selectedMean&&null!==e.po)return t="p Атмосферное давление на уровне станции в мм. рт. ст.",a.push(e.w_date),void r.push(e.po)}})),this.graph.chartData.datasets[0].label=t,this.graph.chartData.labels=a.slice(0,30),this.graph.chartData.datasets[0].data=r.slice(0,30)},async getDataAPI(){try{const t=[],e=await T().get(this.baseURL+"&iDisplayLength="+this.iDisplayLength),a=e.data.aaData;a.map((e=>{if(!t.includes(e.wmoid.id)&&null!==e.wmoid.name){const a=e.wmoid.id,r=e.wmoid.name,n={};n.id=a,n.name=r,n.data=[],this.arrTer.push(n),t.push(a)}this.arrTer.map((t=>{t.id==e.wmoid.id&&t.data.push(e)}))})),console.log(this.arrTer)}catch(t){alert("Error: "+t)}},async createFirstGraph(){await this.getDataAPI(),this.selectedTer=this.arrTer[0],this.redrawGraph()}},mounted(){this.createFirstGraph()}},k=a(89);const C=(0,k.Z)(M,[["render",D]]);var L=C,x={components:{GraphGeoportal:L}};const P=(0,k.Z)(x,[["render",i]]);var U=P;const F=(0,r.ri)(U);F.mount("#app")}},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,r,n,o){if(!r){var i=1/0;for(u=0;u<t.length;u++){r=t[u][0],n=t[u][1],o=t[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(a.O).every((function(t){return a.O[t](r[c])}))?r.splice(c--,1):(s=!1,o<i&&(i=o));if(s){t.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[r,n,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,o,i=r[0],s=r[1],c=r[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(c)var u=c(a)}for(e&&e(r);l<i.length;l++)o=i[l],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},r=self["webpackChunk"]=self["webpackChunk"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(1395)}));r=a.O(r)})();
//# sourceMappingURL=app.2cb5400b.js.map